# SL프라임 영어 시험 채점기 - 기획서

---

## 1. 서비스 개요

### 1.1 서비스명
SL프라임 영어 시험 채점기

### 1.2 서비스 목표
학생들이 영어 단어 시험을 본 후, 교사가 시험지를 촬영하면 AI가 자동으로 채점하여 즉시 결과를 보여주는 웹앱

### 1.3 핵심 가치
- 빠른 채점: 수십 장의 시험지를 몇 분 만에 채점
- 정확한 피드백: 틀린 문제에 대한 상세한 오답 분석 제공
- 간편한 사용: 촬영만으로 채점 완료

---

## 2. 사이트맵

- 홈 (메인 화면)
  - 정답지 등록 화면
  - 시험지 촬영 화면
  - 채점 결과 화면

---

## 3. 화면별 상세 기획

### 3.1 홈 (메인 화면)

**핵심 기능**
- 현재 등록된 정답지 상태 표시 (등록됨/미등록)
- 정답지 등록하기 버튼
- 시험지 채점하기 버튼 (정답지 등록 시에만 활성화)
- 정답지 초기화 버튼

**UI 구성**
- 상단: 서비스 로고 및 타이틀 "SL프라임 영어 시험 채점기"
- 중앙: 정답지 등록 상태 카드
  - 미등록 시: "정답지를 먼저 등록해주세요" 안내 문구
  - 등록 시: "정답지 N페이지 등록됨" + 썸네일 미리보기
- 하단: 주요 액션 버튼 영역
  - 정답지 등록하기 (큰 버튼, 메인 컬러)
  - 시험지 채점하기 (큰 버튼, 정답지 미등록 시 비활성화)
  - 정답지 초기화 (작은 텍스트 링크)

---

### 3.2 정답지 등록 화면

**핵심 기능**
- 카메라로 정답지 촬영 또는 갤러리에서 이미지 선택
- 여러 페이지 연속 촬영 지원
- 촬영된 이미지 미리보기 및 삭제
- 특정 페이지 재촬영
- 정답지 등록 완료 처리

**UI 구성**
- 상단: 뒤로가기 버튼 + "정답지 등록" 타이틀 + 페이지 카운터
- 중앙: 촬영 영역
  - 카메라 프리뷰 또는 촬영된 이미지 표시
  - 촬영된 이미지 목록 (썸네일 슬라이더)
  - 각 썸네일에 삭제(X) 버튼, 재촬영 버튼
- 하단: 액션 버튼 영역
  - 촬영하기 버튼 (카메라 아이콘)
  - 갤러리에서 선택 버튼
  - 등록 완료 버튼 (1장 이상 촬영 시 활성화)

**작동 규칙**
- 최소 1페이지 이상 촬영해야 등록 완료 가능
- 등록 완료 시 홈 화면으로 이동
- 기존 정답지가 있으면 덮어쓰기 확인 팝업 표시

---

### 3.3 시험지 촬영 화면

**핵심 기능**
- 학생 시험지 촬영 또는 갤러리에서 선택
- 정답지 페이지 수와 동일하게 촬영 필요
- 촬영된 이미지 미리보기 및 삭제
- 특정 페이지 재촬영
- 채점 요청

**UI 구성**
- 상단: 뒤로가기 버튼 + "시험지 촬영" 타이틀 + "N/M 페이지" 표시
- 중앙: 촬영 영역
  - 카메라 프리뷰 또는 촬영된 이미지 표시
  - "정답지 N페이지에 맞춰 촬영해주세요" 안내
  - 촬영된 이미지 목록 (썸네일 슬라이더)
  - 각 썸네일에 삭제(X) 버튼, 재촬영 버튼
- 하단: 액션 버튼 영역
  - 촬영하기 버튼
  - 갤러리에서 선택 버튼
  - 채점하기 버튼 (정답지와 페이지 수 일치 시 활성화)

**작동 규칙**
- 정답지 페이지 수와 동일하게 촬영해야 채점하기 버튼 활성화
- 페이지 수 불일치 시 안내 메시지 표시
- 채점하기 클릭 시 로딩 화면 표시 후 결과 화면으로 이동

---

### 3.4 채점 결과 화면

**핵심 기능**
- 학생 이름 표시 (AI가 시험지에서 인식)
- 총점 및 정답/오답 개수 표시
- 오답 문제 상세 분석 표시
- 다음 학생 채점하기
- 결과 공유 또는 저장

**UI 구성**
- 상단: 뒤로가기 버튼 + "채점 결과" 타이틀
- 중앙: 결과 카드
  - 학생 이름 (큰 글씨)
  - 점수 요약: "30문제 중 28개 정답"
  - 정답률 표시 (원형 프로그레스 또는 큰 숫자)
  - 오답 목록
    - 각 오답 항목: 문제번호, 학생답안, 정답, 오답이유
    - 예시: "3번 - 학생답안: grammer / 정답: grammar / 철자 오류"
- 하단: 액션 버튼 영역
  - 다음 학생 채점하기 버튼 (시험지 촬영 화면으로 이동)
  - 홈으로 버튼

**오답 분석 표시 형식**
- 문제 번호
- 학생이 작성한 답안
- 올바른 정답
- 오답 이유 (철자 오류, 단어 혼동, 미작성 등)

---

## 4. 데이터 명세

### 4.1 정답지 데이터
- 정답지 ID (고유 식별자)
- 페이지 목록
  - 페이지 번호
  - 이미지 데이터 (Base64 또는 파일 경로)
  - 촬영 일시
- 총 페이지 수
- 등록 일시

### 4.2 시험지 데이터
- 시험지 ID (고유 식별자)
- 연결된 정답지 ID
- 페이지 목록
  - 페이지 번호
  - 이미지 데이터
- 총 페이지 수
- 촬영 일시

### 4.3 채점 결과 데이터
- 결과 ID (고유 식별자)
- 연결된 시험지 ID
- 학생 이름
- 총 문제 수
- 정답 개수
- 오답 개수
- 오답 상세 목록
  - 문제 번호
  - 학생 답안
  - 정답
  - 오답 이유
- 채점 일시

---

## 5. 디자인 가이드

### 5.1 컬러 팔레트
- 메인 컬러: #2563EB (밝은 파랑)
- 서브 컬러: #3B82F6 (하늘색)
- 액센트 컬러: #1D4ED8 (진한 파랑)
- 성공 컬러: #10B981 (초록 - 정답 표시)
- 오류 컬러: #EF4444 (빨강 - 오답 표시)
- 배경 컬러: #F8FAFC (밝은 회색)
- 텍스트 컬러: #1E293B (진한 남색)
- 보조 텍스트: #64748B (회색)

### 5.2 타이포그래피
- 제목: 굵은 글씨, 24px
- 부제목: 중간 굵기, 18px
- 본문: 일반 글씨, 16px
- 보조 텍스트: 일반 글씨, 14px
- 버튼 텍스트: 중간 굵기, 16px

### 5.3 버튼 스타일
- 주요 버튼: 메인 컬러 배경, 흰색 텍스트, 둥근 모서리 (8px)
- 보조 버튼: 흰색 배경, 메인 컬러 테두리 및 텍스트
- 비활성 버튼: 회색 배경, 연한 회색 텍스트
- 위험 버튼: 오류 컬러 배경, 흰색 텍스트 (삭제, 초기화용)

### 5.4 카드 스타일
- 흰색 배경
- 연한 그림자
- 둥근 모서리 (12px)
- 내부 여백: 16px

### 5.5 아이콘 스타일
- 선형 아이콘 사용
- 메인 컬러 또는 텍스트 컬러
- 크기: 24px (일반), 32px (강조)

---

## 6. 개발 스테이지

### Stage 1: 프론트엔드 단독 동작

**목표**
- 백엔드 없이 프론트엔드만으로 전체 흐름 동작
- 로컬 스토리지에 정답지/시험지 이미지 저장
- LLM API 직접 호출로 채점 수행

**구현 범위**
- 홈 화면 UI 및 상태 관리
- 정답지 등록 화면 (촬영/선택/미리보기/삭제/재촬영)
- 시험지 촬영 화면 (촬영/선택/미리보기/삭제/재촬영)
- 채점 결과 화면 (결과 표시)
- 로컬 스토리지 기반 데이터 저장
- LLM API 연동 (프론트에서 직접 호출)

**동작 방식**
- 정답지 이미지를 브라우저 로컬 스토리지에 저장
- 시험지 촬영 후 정답지 + 시험지 이미지를 LLM에 전송
- LLM 응답을 파싱하여 결과 화면에 표시

---

### Stage 2: 백엔드 연동

**목표**
- REST API 백엔드 구현
- 프론트엔드와 백엔드 연동
- 서버에서 LLM API 호출 처리

**구현 범위**
- 정답지 업로드 API
- 시험지 업로드 API
- 채점 요청 API
- 채점 결과 조회 API
- 서버 측 LLM API 연동
- API 키 보안 처리

**API 목록**
- 정답지 등록: 이미지 업로드 및 저장
- 시험지 제출: 이미지 업로드 및 채점 요청
- 채점 실행: LLM 호출 및 결과 생성
- 결과 조회: 채점 결과 반환

---

## 7. LLM 채점 요청 명세

### 7.1 요청 구성
- 정답지 이미지 (페이지별)
- 시험지 이미지 (페이지별, 정답지와 1:1 매칭)
- 채점 지시 프롬프트

### 7.2 기대 응답 형식
- 학생 이름
- 총 문제 수
- 정답 개수
- 오답 개수
- 오답 상세 (문제번호, 학생답안, 정답, 오답이유)

### 7.3 페이지 매칭 규칙
- 정답지 1페이지 ↔ 시험지 1페이지
- 정답지 2페이지 ↔ 시험지 2페이지
- 순서대로 쌍을 이루어 채점 요청
